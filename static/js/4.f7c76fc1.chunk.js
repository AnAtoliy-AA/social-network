(this["webpackJsonpreact-first"]=this["webpackJsonpreact-first"]||[]).push([[4],{223:function(t,e,n){t.exports={formControl:"FormsControl_formControl__3VMN9",error:"FormsControl_error__3SyUw",formSummaryError:"FormsControl_formSummaryError__202qp"}},224:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=function(t){return t?void 0:"Field is required"},a=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t," symbols")}}},225:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var r=n(234),a=n(0),o=n.n(a),s=n(223),u=n.n(s),i=function(t){var e=t.meta,n=e.touched,r=e.error,a=t.children,s=n&&r;return o.a.createElement("div",{className:u.a.formControl+" "+(s?u.a.error:"")},o.a.createElement("div",null,a),s&&o.a.createElement("span",null,r))},l=function(t){var e=t.input,n=(t.meta,t.child,Object(r.a)(t,["input","meta","child"]));return o.a.createElement(i,t," ",o.a.createElement("textarea",Object.assign({},e,n)))},c=function(t){return function(e){var n=e.input,a=e.meta,s=Object(r.a)(e,["input","meta"]),i=a.touched&&a.error;return o.a.createElement("div",{className:u.a.formControl+" "+(i?u.a.error:"")},o.a.createElement(t,Object.assign({},n,s)),i&&o.a.createElement("span",null," ",a.error," "))}}},233:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(58);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(i){a=!0,o=i}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},247:function(t,e,n){t.exports={item:"Post_item__2xwsR"}},248:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__2i0-J",posts:"MyPosts_posts__1OEA2"}},289:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1maLU",main__img:"ProfileInfo_main__img__L4uGT"}},294:function(t,e,n){"use strict";n.r(e);var r=n(32),a=n(33),o=n(35),s=n(34),u=n(59),i=n(107),l=n(108),c=n(224),m=n(225),f=n(0),p=n.n(f),d=n(247),h=n.n(d),v=function(t){return p.a.createElement("div",{className:h.a.item},p.a.createElement("img",{src:"https://images.theconversation.com/files/350865/original/file-20200803-24-50u91u.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1200&h=900.0&fit=crop",alt:""}),t.message,p.a.createElement("div",null,t.likesCount,p.a.createElement("span",null," like")))},b=n(248),E=n.n(b),g=Object(c.a)(10),_=Object(m.a)("textarea"),y=Object(l.a)({form:"ProfileAddNewPostForm"})((function(t){return p.a.createElement("form",{onSubmit:t.handleSubmit},p.a.createElement("div",null,p.a.createElement(i.a,{name:"newPostText",component:_,placeholder:"Enter new post",validate:[c.b,g]})),p.a.createElement("div",null,p.a.createElement("button",null,"Add post")))})),j=function(t){var e=t.posts.map((function(t){return p.a.createElement(v,{message:t.message,likesCount:t.likesCount,key:t.id})}));return p.a.createElement("div",{className:E.a.postsBlock},p.a.createElement("h2",null,"My posts"),p.a.createElement(y,{onSubmit:function(e){t.addPost(e.newPostText)}}),p.a.createElement("div",{className:E.a.posts},e))},P=n(22),O=Object(P.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(u.a)(e))}}}))(j),S=n(43),k=n(233),w=function(t){var e=Object(f.useState)(!1),n=Object(k.a)(e,2),r=n[0],a=n[1],o=Object(f.useState)(t.status),s=Object(k.a)(o,2),u=s[0],i=s[1];Object(f.useEffect)((function(){i(t.status)}),[t.status]);return p.a.createElement("div",null,!r&&p.a.createElement("div",null,p.a.createElement("span",{onDoubleClick:function(){a(!0)}},t.status||"---")),r&&p.a.createElement("div",null,p.a.createElement("input",{onBlur:function(){a(!1),t.updateStatus(u)},autoFocus:!0,onChange:function(t){i(t.currentTarget.value)},value:u})))},x=n(289),C=n.n(x),I=function(t){var e=t.profile,n=t.status,r=t.savePhoto,a=t.updateStatus;if(!e)return p.a.createElement(S.a,null);return p.a.createElement("div",null,p.a.createElement("div",{className:C.a.descriptionBlock},p.a.createElement("img",{src:e.photos.large,alt:""}),p.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&r(t.target.files[0])}}),p.a.createElement(w,{status:n,updateStatus:a})))},N=function(t){return p.a.createElement("div",null,p.a.createElement(I,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto}),p.a.createElement(O,null))},U=n(18),A=n(5),B=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(N,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})))}}]),n}(p.a.Component);e.default=Object(U.d)(Object(P.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:u.c,getUserStatus:u.d,updateStatus:u.f,savePhoto:u.e}),A.f)(B)}}]);
//# sourceMappingURL=4.f7c76fc1.chunk.js.map